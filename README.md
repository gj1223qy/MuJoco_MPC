# MuJoCo MPC 汽车仪表盘实时可视化项目

物联网工程学院　计科2305  齐悦

## 项目背景

随着智能驾驶、自动控制与仿真技术的快速发展，基于高精度物理引擎的车辆运动仿真已成为教学、科研与算法验证的重要手段。  
MuJoCo 作为业界公认的高性能多体动力学仿真引擎，在机器人、强化学习与模型预测控制（MPC）领域应用广泛。

本项目基于 **MuJoCo + mjpc（Model Predictive Control）** 框架，搭建了一个简化的双轮差速小车模型，并重点实现了**车载仪表盘的实时三维可视化**，让学习者能够直观地观察车辆速度、位置、控制输入等状态变化，同时在终端同步输出关键信息，便于调试与理解仿真流程。

## 项目目标

- 构建基于 MuJoCo 的简化车辆导航仿真环境
- 实时采集并计算车辆核心运动状态（位置、线速度、角速度等）
- 在三维仿真场景中绘制**动态仪表盘**（速度表、指针动画等）
- 在终端窗口以清晰格式实时刷新显示车辆状态
- 引入简易油耗估算模型，以百分比形式展示剩余油量
- 确保仿真、控制、数据采集与可视化模块同步稳定运行

## 功能模块概览

项目采用经典的“仿真核心 + 控制策略 + 多通道可视化”架构：

1. **仿真核心**  
   MuJoCo 负责物理计算与状态更新（位置、速度、加速度等）

2. **控制策略**  
   基于 mjpc 框架的采样/梯度规划器，实现目标点跟踪导航

3. **状态采集与处理**  
   通过 MuJoCo sensor 与自定义逻辑，实时获取并转换速度（m/s → km/h）

4. **三维仪表盘渲染**  
   在 MuJoCo 场景中叠加绘制速度仪表（圆形表盘 + 指针 + 数字显示）

5. **终端状态监控**  
   每帧刷新输出：位置、速度、转向、剩余油量等信息

6. **简易油耗模型**  
   根据速度与加速度估算瞬时能耗，动态更新油量百分比

## 技术特点

- **强实时性**：仪表盘指针与数字显示与仿真步同步更新
- **直观教学性**：三维仪表 + 终端文本 双通道呈现，便于理解状态与控制关系
- **模块化设计**：场景定义、残差函数、仪表渲染、终端输出、油耗计算相对独立
- **工程友好**：使用 CMake 组织，支持常见操作系统编译运行
- **扩展性**：易于添加更多仪表（如转速表、油温表、电量表等）

## 技术栈

- **物理引擎**：MuJoCo 3.x
- **控制框架**：mjpc (DeepMind 开源模型预测控制库)
- **图形接口**：OpenGL (通过 MuJoCo 自带可视化)
- **语言**：C++17
- **依赖管理**：CMake + Git 子模块（abseil、mujoco 等）
- **操作系统**：Windows / Linux / macOS（推荐 Ubuntu 22.04+）

## 应用价值
本项目适合作为以下场景的教学/实验素材：

MuJoCo 引擎入门与数据结构学习
模型预测控制（MPC）基本原理与调参实践
仿真数据 → 实时可视化的完整工程实现流程
C++ 实时系统开发、OpenGL 叠加绘制技巧
自动驾驶/机器人课程的综合性实验案例
## 总结与展望
本项目成功将 MuJoCo 的物理仿真能力与直观的仪表盘可视化相结合，构建了一个教学友好、运行稳定的小车状态监控系统。
未来可考虑方向：

增加更多仪表元素（转速、油温、SOC 等）
引入真实车辆动力学与更精确的能耗模型
支持录制轨迹回放与数据分析
开发交互式 GUI 调整目标点、权重、油耗参数
迁移到更复杂的四轮车辆或多车场景

欢迎大家基于此项目进行二次开发与优化！
最后更新：2025年12月
